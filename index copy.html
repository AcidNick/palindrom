<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <title>Palindrom</title>
  <style>
    @media only screen and (orientation: portrait) {
      body {
        font-size: 40px;
      }
    }
  </style>
</head>
<body>
  <script>
    let startTall = prompt("Tall å prøve");
    let antallForsok = 0;
    erPalindrom(startTall);


    function erPalindrom(tall) {
      if (antallForsok >= 289) {
        console.error("Fant ikke palindromet på 289 forsøk");
        document.write(`<br> <font color="red"> Fant ikke palindromet på 289 forsøk`);
        return;
      }
      antallForsok++;
      let reversert = BigInt(reverser(tall));
      let sum = BigInt(tall) + reversert;
      console.log("  " + tall+ "\n+ " + reversert + "\n= " + sum + " Forsøk: " + antallForsok);
      document.write("<br>&nbsp &nbsp" + tall+ "<br> + " + reversert + "<br>= " + sum + " Forsøk: " + antallForsok + "<br>")

      if (sum == reverser(sum)) {
        console.log("%cPalindrom: " + sum, "color: green;");
        console.log("Baklengs:  " + reverser(sum));
        console.log(`Fant palindromet på ${antallForsok} forsøk`);

        document.write(`<br> <font color="green"> Palindrom: ${sum}`);
        document.write("<br>Baklengs: &nbsp " + reverser(sum));
        document.write(`<br> <font color="green"> Fant palindromet på ${antallForsok} forsøk`);
      } else {
        erPalindrom(sum);
      }
    }

    function reverser(tall) {
      tall = tall.toString();
      let string = tall.split("");
      let reversert = string.reverse();
      let sattSammen = reversert.join("");

      return(sattSammen);
    }
  </script>
</body>
</html>
